version: "3"
services:
    lla-client:
        container_name: lla-client
        build:
            context: ./client
            dockerfile: Dockerfile
        image: enael/languagelearningclient
        ports:
            - "3000:3000"
        volumes:
            - ./client:/usr/src/app
        stdin_open: true
    lla-messenger:
        container_name: lla-messenger
        build:
            context: ./messenger
            dockerfile: Dockerfile
        image: enael/languagelearningmessenger
        ports:
            - "6000:6000"
        volumes:
            - ./messenger:/usr/src/app
    lla-server:
        container_name: lla-server
        build:
            context: ./server
            dockerfile: Dockerfile
        image: enael/languagelearningserver
        ports:
            - "5000:5000"
        volumes:
            - ./server:/usr/src/app
        links:
            - mongo
    mongo:
        container_name: mongo
        image: mongo
        ports:
            - "27017:27017"
    mongo-seed:
        build: ./mongo-seed
        links:
            - mongo
        volumes:
            - ./mongo-seed:/mongo-seed
        command:
            /mongo-seed/import.sh
    lla-articles:
        container_name: lla-articles
        build:
            context: ./articles
            dockerfile: Dockerfile
        image: enael/languagelearningarticles
        ports:
            - "4000:4000"
        volumes:
            - ./articles:/usr/src/app
        links:
            - mongo-articles
    mongo-articles:
        container_name: mongo-articles
        image: mongo
        ports:
            - "27018:27017"



